[target.aarch64-unknown-linux-musl]
rustflags = [
  "-Zpre-link-args=-target aarch64-linux-musl",
  "-Ctarget-feature=+lse,+crt-static",
  "-Ctarget-cpu=neoverse-n1",
]
linker = "./zigcc"
ar = "zig ar"

[target.x86_64-unknown-linux-musl]
rustflags = [
  "-Zpre-link-args=-target x86_64-linux-musl",
  "-Ctarget-feature=+crt-static",
]
linker = "./zigcc"
ar = "zig ar"


# [target.x86_64-apple-darwin]
# rustflags = [
#   "-Zpre-link-args=-target x86_64-macos",
#   "-Cpanic=abort",
#   "-Zpanic_abort_tests",
# ]
# linker = "./zigcc"
# ar = "zig ar"

# [target.aarch64-apple-darwin]
# rustflags = [
#   "-Zpre-link-args=-target aarch64-macos",
#   "-Cpanic=abort",
#   "-Zpanic_abort_tests",
# ]
# linker = "./zigcc"
# ar = "zig ar"

# [target.x86_64-pc-windows-gnu]
# rustflags = [
#   "-Zpre-link-args=-target x86_64-windows-gnu",
#   "-Ctarget-feature=+crt-static",
# ]
# linker = "./zigcc"
# ar = "zig ar"

[unstable]
build-std = ["core", "compiler_builtins", "alloc", "std", "panic_abort"]
build-std-features = ["panic_immediate_abort"]

[env]
CC_aarch64_unknown_linux_musl = "zig cc -target aarch64-linux-musl"
CXX_aarch64_unknown_linux_musl = "zig cc -target aarch64-linux-musl"
CC_x86_64_unknown_linux_musl = "zig cc -target x86_64-linux-musl"
CXX_x86_64_unknown_linux_musl = "zig cc -target x86_64-linux-musl"
AWS_LC_SYS_STATIC = "1"
AWS_LC_FIPS_SYS_STATIC = "1"
CMAKE_BUILD_PARALLEL_LEVEL = "8"
CMAKE_TOOLCHAIN_FILE_aarch64-unknown-linux-musl = "/Users/ridaviso/Projects/lambda-llrt/tc-linux-arm64.cmake"
CMAKE_TOOLCHAIN_FILE_x86_64_unknown_linux_musl = "/Users/ridaviso/Projects/lambda-llrt/tc-linux-x64.cmake"
