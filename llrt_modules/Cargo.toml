[package]
name = "llrt_modules"
version = "0.1.15-beta"
edition = "2021"
license-file = "LICENSE"

[features]
default = ["all"]
all = ["buffer", "fs", "os", "path"]

buffer = ["llrt_utils/encoding"]
fs = ["tokio/fs", "llrt_utils/fs", "ring", "buffer", "path"]
os = ["libc"]
path = []

[dependencies]
either = "1"
llrt_utils = { path = "../llrt_utils", default-features = false }
rquickjs = { version = "0.6", features = [
  "either",
  "macro",
  "futures",
], default-features = false }
ring = { version = "0.17", optional = true }
tokio = { version = "1", features = ["rt", "io-util"] }

[target.'cfg(unix)'.dependencies]
libc = { version = "0.2", optional = true }

[dev-dependencies]
nanoid = "0.4.0"
tokio = { version = "1", features = ["full"] }
